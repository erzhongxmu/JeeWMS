(function(b){var a={series:{threshold:null}};function c(e){function f(C,v,g,u,B){var A=g.pointsize,E,r,q,w,D,t=b.extend({},v);t.datapoints={points:[],pointsize:A,format:g.format};t.label=null;t.color=B;t.threshold=null;t.originSeries=v;t.data=[];var l=g.points,h=v.lines.show;var n=[];var o=[];var z;for(E=0;E<l.length;E+=A){r=l[E];q=l[E+1];D=w;if(q<u){w=n}else{w=o}if(h&&D!=w&&r!=null&&E>0&&l[E-A]!=null){var j=r+(u-q)*(r-l[E-A])/(q-l[E-A+1]);D.push(j);D.push(u);for(z=2;z<A;++z){D.push(l[E+z])}w.push(null);w.push(null);for(z=2;z<A;++z){w.push(l[E+z])}w.push(j);w.push(u);for(z=2;z<A;++z){w.push(l[E+z])}}w.push(r);w.push(q);for(z=2;z<A;++z){w.push(l[E+z])}}g.points=o;t.datapoints.points=n;if(t.datapoints.points.length>0){var k=b.inArray(v,C.getData());C.getData().splice(k+1,0,t)}}function d(i,g,h){if(!g.threshold){return}if(g.threshold instanceof Array){g.threshold.sort(function(k,j){return k.below-j.below});b(g.threshold).each(function(j,k){f(i,g,h,k.below,k.color)})}else{f(i,g,h,g.threshold.below,g.threshold.color)}}e.hooks.processDatapoints.push(d)}b.plot.plugins.push({init:c,options:a,name:"threshold",version:"1.2"})})(jQuery);