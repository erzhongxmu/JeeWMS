(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.toMarkdown=b()}}})(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(l,j,x){var y;var m;var u=l("./lib/md-converters");var i=l("./lib/gfm-converters");var k=l("./lib/html-parser");var h=l("collapse-whitespace");var v=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function o(z){return v.indexOf(z.nodeName.toLowerCase())!==-1}var e=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function t(z){return e.indexOf(z.nodeName.toLowerCase())!==-1}function r(A){var z=new k().parseFromString(A,"text/html");h(z.documentElement,o);return z}function n(E){var A=[E];var z=[];var D;var C;var B;while(A.length>0){D=A.shift();z.push(D);C=D.childNodes;for(B=0;B<C.length;B++){if(C[B].nodeType===1){A.push(C[B])}}}z.shift();return z}function w(A){var B="";for(var z=0;z<A.childNodes.length;z++){if(A.childNodes[z].nodeType===1){B+=A.childNodes[z]._replacement}else{if(A.childNodes[z].nodeType===3){B+=A.childNodes[z].data}else{continue}}}return B}function g(A,z){return A.cloneNode(false).outerHTML.replace("><",">"+z+"<")}function q(A,z){if(typeof z==="string"){return z===A.nodeName.toLowerCase()}if(Array.isArray(z)){return z.indexOf(A.nodeName.toLowerCase())!==-1}else{if(typeof z==="function"){return z.call(y,A)}else{throw new TypeError("`filter` needs to be a string, array, or function")}}}function f(B,D){var C;var A;var z;if(B==="left"){C=D.previousSibling;A=/ $/}else{C=D.nextSibling;A=/^ /}if(C){if(C.nodeType===3){z=A.test(C.nodeValue)}else{if(C.nodeType===1&&!o(C)){z=A.test(C.textContent)}}}return z}function p(B){var D="";var C="";if(!o(B)){var z=/^[ \r\n\t]/.test(B.innerHTML);var A=/[ \r\n\t]$/.test(B.innerHTML);if(z&&!f("left",B)){D=" "}if(A&&!f("right",B)){C=" "}}return{leading:D,trailing:C}}function s(E){var C;var D=w(E);if(!t(E)&&!/A|TH|TD/.test(E.nodeName)&&/^\s*$/i.test(D)){E._replacement="";return}for(var A=0;A<m.length;A++){var B=m[A];if(q(E,B.filter)){if(typeof B.replacement!=="function"){throw new TypeError("`replacement` needs to be a function that returns a string")}var z=p(E);if(z.leading||z.trailing){D=D.trim()}C=z.leading+B.replacement.call(y,D,E)+z.trailing;break}}E._replacement=C}y=function(B,C){C=C||{};if(typeof B!=="string"){throw new TypeError(B+" is not a string")}B=B.replace(/(\d+)\. /g,"$1\\. ");var E=r(B).body;var A=n(E);var z;m=u.slice(0);if(C.gfm){m=i.concat(m)}if(C.converters){m=C.converters.concat(m)}for(var D=A.length-1;D>=0;D--){s(A[D])}z=w(E);return z.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")};y.isBlock=o;y.isVoid=t;y.outer=g;j.exports=y},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/md-converters":4,"collapse-whitespace":7}],2:[function(g,h,f){function e(l,k){var j=Array.prototype.indexOf.call(k.parentNode.childNodes,k);var m=" ";if(j===0){m="| "}return m+l+" |"}var i=/highlight highlight-(\S+)/;h.exports=[{filter:"br",replacement:function(){return"\n"}},{filter:["del","s","strike"],replacement:function(j){return"~~"+j+"~~"}},{filter:function(j){return j.type==="checkbox"&&j.parentNode.nodeName==="LI"},replacement:function(k,j){return(j.checked?"[x]":"[ ]")+" "}},{filter:["th","td"],replacement:function(k,j){return e(k,j)}},{filter:"tr",replacement:function(o,n){var j="";var m={left:":--",right:"--:",center:":-:"};if(n.parentNode.nodeName==="THEAD"){for(var l=0;l<n.childNodes.length;l++){var p=n.childNodes[l].attributes.align;var k="---";if(p){k=m[p.value]||k}j+=e(k,n.childNodes[l])}}return"\n"+o+(j?"\n"+j:"")}},{filter:"table",replacement:function(j){return"\n\n"+j+"\n\n"}},{filter:["thead","tbody","tfoot"],replacement:function(j){return j}},{filter:function(j){return j.nodeName==="PRE"&&j.firstChild&&j.firstChild.nodeName==="CODE"},replacement:function(k,j){return"\n\n```\n"+j.firstChild.textContent+"\n```\n\n"}},{filter:function(j){return j.nodeName==="PRE"&&j.parentNode.nodeName==="DIV"&&i.test(j.parentNode.className)},replacement:function(k,j){var l=j.parentNode.className.match(i)[1];
    return"\n\n```"+l+"\n"+j.textContent+"\n```\n\n"}},{filter:function(j){return j.nodeName==="DIV"&&i.test(j.className)},replacement:function(j){return"\n\n"+j+"\n\n"}}]},{}],3:[function(h,i,e){var k=(typeof window!=="undefined"?window:this);function g(){var n=k.DOMParser;var l=false;try{if(new n().parseFromString("","text/html")){l=true}}catch(m){}return l}function f(){var m=function(){};if(typeof document==="undefined"){var l=h("jsdom");m.prototype.parseFromString=function(n){return l.jsdom(n,{features:{FetchExternalResources:[],ProcessExternalResources:false}})}}else{if(!j()){m.prototype.parseFromString=function(n){var o=document.implementation.createHTMLDocument("");o.open();o.write(n);o.close();return o}}else{m.prototype.parseFromString=function(n){var o=new window.ActiveXObject("htmlfile");o.designMode="on";o.open();o.write(n);o.close();return o}}}return m}function j(){var m=false;try{document.implementation.createHTMLDocument("").open()}catch(l){if(window.ActiveXObject){m=true}}return m}i.exports=g()?k.DOMParser:f()},{"jsdom":6}],4:[function(f,g,e){g.exports=[{filter:"p",replacement:function(h){return"\n\n"+h+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(m,l){var h=l.nodeName.charAt(1);var j="";for(var k=0;k<h;k++){j+="#"}return"\n\n"+j+" "+m+"\n\n"}},{filter:"hr",replacement:function(){return"\n\n* * *\n\n"}},{filter:["em","i"],replacement:function(h){return"_"+h+"_"}},{filter:["strong","b"],replacement:function(h){return"**"+h+"**"}},{filter:function(j){var h=j.previousSibling||j.nextSibling;var i=j.parentNode.nodeName==="PRE"&&!h;return j.nodeName==="CODE"&&!i},replacement:function(h){return"`"+h+"`"}},{filter:function(h){return h.nodeName==="A"&&h.getAttribute("href")},replacement:function(j,i){var h=i.title?' "'+i.title+'"':"";return"["+j+"]("+i.getAttribute("href")+h+")"}},{filter:"img",replacement:function(j,i){var k=i.alt||"";var m=i.getAttribute("src")||"";var l=i.title||"";var h=l?' "'+l+'"':"";return m?"!["+k+"]"+"("+m+h+")":""}},{filter:function(h){return h.nodeName==="PRE"&&h.firstChild.nodeName==="CODE"},replacement:function(i,h){return"\n\n    "+h.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},{filter:"blockquote",replacement:function(h){h=h.trim();h=h.replace(/\n{3,}/g,"\n\n");h=h.replace(/^/gm,"> ");return"\n\n"+h+"\n\n"}},{filter:"li",replacement:function(k,j){k=k.replace(/^\s+/,"").replace(/\n/gm,"\n    ");var l="*   ";var i=j.parentNode;var h=Array.prototype.indexOf.call(i.children,j)+1;l=/ol/i.test(i.nodeName)?h+".  ":"*   ";return l+k}},{filter:["ul","ol"],replacement:function(l,k){var h=[];for(var j=0;j<k.childNodes.length;j++){h.push(k.childNodes[j]._replacement)}if(/li/i.test(k.parentNode.nodeName)){return"\n"+h.join("\n")}return"\n\n"+h.join("\n")+"\n\n"}},{filter:function(h){return this.isBlock(h)},replacement:function(i,h){return"\n\n"+this.outer(h,i)+"\n\n"}},{filter:function(){return true},replacement:function(i,h){return this.outer(h,i)}}]},{}],5:[function(f,g,e){g.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],6:[function(f,g,e){},{}],7:[function(h,f,i){var m=h("void-elements");Object.keys(m).forEach(function(o){m[o.toUpperCase()]=1});var n={};h("block-elements").forEach(function(o){n[o.toUpperCase()]=1});function l(o){return !!(o&&n[o.nodeName])}function e(o){return !!(o&&m[o.nodeName])}function g(t,p){if(!t.firstChild||t.nodeName==="PRE"){return}if(typeof p!=="function"){p=l}var q=null;var v=false;var s=null;var r=k(s,t);while(r!==t){if(r.nodeType===3){var u=r.data.replace(/[ \r\n\t]+/g," ");if((!q||/ $/.test(q.data))&&!v&&u[0]===" "){u=u.substr(1)}if(!u){r=j(r);continue}r.data=u;q=r}else{if(r.nodeType===1){if(p(r)||r.nodeName==="BR"){if(q){q.data=q.data.replace(/ $/,"")}q=null;v=false}else{if(e(r)){q=null;v=true}}}else{r=j(r);continue}}var o=k(s,r);s=r;r=o}if(q){q.data=q.data.replace(/ $/,"");if(!q.data){j(q)}}}function j(p){var o=p.nextSibling||p.parentNode;p.parentNode.removeChild(p);return o}function k(o,p){if(o&&o.parentNode===p||p.nodeName==="PRE"){return p.nextSibling||p.parentNode}return p.firstChild||p.nextSibling||p.parentNode}f.exports=g},{"block-elements":5,"void-elements":8}],8:[function(f,g,e){g.exports={"area":true,"base":true,"br":true,"col":true,"embed":true,"hr":true,"img":true,"input":true,"keygen":true,"link":true,"menuitem":true,"meta":true,"param":true,"source":true,"track":true,"wbr":true}},{}]},{},[1])(1)});